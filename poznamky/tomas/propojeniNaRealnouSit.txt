28.7.2011

Začal jsem hledat podrobnosti o tom odchytávání paketů. Má to pro mě 2 úrovně. Tou první jsou knihovny libpcap a WinPcap, obě jsou naprogramovaný v céčku a staraj se o odchytávání paketů, první na linuxu, druhá na windowsu, mě tedy zajímá ta windowsová. WinPcap má stránku http://www.winpcap.org/default.htm (jsou tam FAQ), já ho mám nainstalovanej (normálně v Program Files), nainstaloval se totiž sám s wiresharkem, kterej ho taky používá. Na linuxu mám tu knihovnu libpcap taky nainstalovanou.
Druhou úrovní je JNetPcap, je to java wrapper (zřejmě) původně pro libpcap ale podporuje i WinPcap. Ten budu zřejmě používat ve svým programu já. Stránka projektu je tady: http://jnetpcap.com/.


7.9.2011

Stáhnul jsem si tu knihovnu, v několika verzích, přesně nevím, k čemu jsou všechny ty soubory. V Netbeans jsem si vytvořil knihovnu (menu -> tools -> libraries -> new library, napsat jméno, pak hodit jar soubor a javadoc, aby ho to zobrazovalo) a ten jsem si přidal do projektu. Soubor libjnetpcap.so jsem nalinkoval do /usr/lib, je to knihovna dodaná v tý instalačce, bez ní to hází UnsatisfiedLinkError exception. Některý funkce se spustěj jen pod rootem! Na windowsu jsem musel v netbeansech taky vytvořit knihovnu, a soubor jnetpcap.dll jsem nakopíroval do C:\programy_neinstalovane (tam mám taky nastavenou cestu).


9.9.2011

jNetPcap
- dost složitej, na wikipedii píšou, že komplexní
- v package org.jnetpcap.protocol.network.* jsou třídy pro jednotlivý pakety

jNetStream (http://jnetstream.com/node/29)
- sesterskej projekt jnetpcap, dělá stejná firma
- jestli jsem to dobře pochopil, tak jen na čtení paketů už nachytanejch a uloženejch v souborech
četl jsem jen javadocy, dál zatím nevim

JNetBridge (http://www.gremwell.com/jnetbridge-0.1-release)
- nějakej bridge přes jNetPCap
- podle Standy je to jen nějaký vícevláknový rozšíření nad JNetPcapem, pro nás nevyužitelný, instalačky jsem smazal

jPcap (http://netresearch.ics.uci.edu/kfujii/Jpcap/doc/index.html)
- jednoduchej, pochopitelnej, malej, stačí?
- zatím jsem nezkoušel

jPcap (http://jpcap.sourceforge.net/), pozor, stejný jméno
- asi jen na poslouchání paketů, má ale třídy pro jednotlivý pakety => asi ne až zas tak špatnej


13.9.2011

WinPcap - z FAQ (http://www.winpcap.org/misc/faq.htm#Q-13)
Q-13: Does WinPcap support the loopback device?
A: No. Only physical interfaces are supported. This is a limitation of Windows and not of WinPcap. 
- nepodporuje virtuální rozhraní => naprd

VDE (http://vde.sourceforge.net/)
- balík vde2 (normálně ho mám)
- spuštění rozhraní: vde_switch -tap tap1 -daemon
- spuštění 2. rozhraní: vde_switch -s /var/run/vde.ctl/ctl2 -tap tap2 -daemon (musí tam bejt ta cesta, aby se to nekřížilo s tím prvním)
- propojení 2 rozhraní: dpipe vde_plug = vde_plug /var/run/vde.ctl/ctl2 & (dpipe je příkaz pro obousměrnou rouru, více v man vde_plug)
	- opravdu to funguje!
- stránka o propojení s virtuálníma počítačema: http://www.debianadmin.com/create-a-lan-for-virtual-servers-with-kvm-and-vde.html
Tap (na linkový vrstvě) nebo tun (na síťový vrstvě) jsou virtuální síťový rozhraní, většinou pro VPN, virtuální stroje ap. Víc na wiki: http://de.wikipedia.org/wiki/TUN/TAP


15.9.2011

TAP-Win32 (http://colinux.wikia.com/wiki/TAP-Win32_Adapter_V8_%28coLinux%29)
Je to nějaká možnost virtuálního rozhraní, zřejmě pro nějakej virtual machine na windowsu (http://www.colinux.org/). Vytvoří rozhraní, winpcap ho ale nevidí a ipconfig vypíše, ale nevypíše jeho parametry.

VirtNet (http://www.ntkernel.com/w&p.php?id=32)
Další z virtuálních rozhraní, winpcap ho zase nevidí. Instaloval jsem ho v průvodci (správce zařízení -> pravej klik na počítač (úplně první a kořenovej v seznamu) -> přidat starší hardware -> vybrat ze seznamu -> síťový adaptéry -> z disku -> najít a spustit instalaci...).



