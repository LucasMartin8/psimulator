Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2011-09-13T22:07:55+02:00

====== Postup prace ======
Created Úterý 13 září 2011

==== 13.9.2011 ====

=== resim propojeni virtualni site se skutecnou ===
pruzkum, co ktery program umi:

libpcap
http://www.tcpdump.org/
a portable C/C++ library for network traffic capture. 

jpcap
http://jpcap.sourceforge.net

jpcap
http://netresearch.ics.uci.edu
jiny program, prezdivka jpcap-zeleny

jnetpcap
http://jnetpcap.com/
A Java wrapper for nearly all libpcap library native calls 
podporuje i WinPcap, takze pouzitelny i pro windows
asi nedekoduje pakety

jnetbridge
http://www.gremwell.com/jnetbridge-0.1-release
postaven na jnetpcap
jnetbridge je thread-safe implementace jnetpcapu pro paralelni pristup k vice rozhranim (asi nepotrebujem)

jnetstream
http://jnetstream.com/
umi dekodovat odchycene pakety na ip4 hlavicky - potrebujem, tak to budem asi muset pouzit
je postaven na jnetpcap


==== 14.9.2011 ====
**Prvni navrh propojeni virtualni site se skutecnou:**
[[./IMG_20110914_134326.jpg|IMG_20110914_134326.jpg]]

Myslenka je takova, ze na skutecnem pocitaci pobezi nase aplikace s virtualni siti, ktera bude napojena na skutecnou sit. Kazdy virtualni PC (ktery bude pripojen na skutecnou sit) bude mit prirazene virtualni sitove rozhrani (nainstalovane na skutecnem pocitaci). 
Tomas nasel pro linux 'vde'.
- pozadavek: musime umet vlozit paket na virtualni rozhrani pro odeslani paketu do skutecne site (aby to zpracoval sitovy modul skutecneho PC)
	- asi zadny program neumi, takze asi druhe reseni

**Druhy navrh propojeni virtualni site se skutecnou:**
[[./IMG_20110914_142007.jpg|IMG_20110914_142007.jpg]]
Kazdy virtualni PC (ktery bude pripojen na skutecnou sit) bude mit prirazene **dve **virtualni sitove rozhrani (nainstalovane na skutecnem pocitaci). 
1. virt. rozrani: pouze na odesila pakety ven z programu, je virtualne propojeno se druhym
2. virt. rozrani: tady to zachyti sitovy modul skut. PC a nalozi s nim podle sebe
- linux: vde
- windows: 
http://www.microsoft.com/download/en/details.aspx?id=2863
or
http://www.ntkernel.com/w&p.php?id=32
or direct in windows XP/7:
	XP navod: http://support.microsoft.com/kb/839013

	Here are the steps for installing a Loopback Adapter in Windows 7
	-Open Control Panel
	-Click on Device Manager
	-Right Click Computer --> Add legacy device
	-Start Wizard --> Install Manually [advanced]
	-Choose Network Adapter --> [hit next]
	-Choose Microsoft --> Select, Microsoft Loopback Adapter
	-Hit Next to Begin Installing
	-Hit Finish

Kdyz pouzijeme 2. reseni, tak je skoro jedno, jaky sw budem pouzivat na odchytavani paketu (podminka: musi umet pakety dekodovat).


---
pridani javadocu do netbeans:
Tools > Java Platforms > Javadoc > Add Zip/Folder (ja pridal adresar, kde je soubor index.html a jelo to)
---

**Zjistit zda jpcap-zeleny dekoduje!**

Tomas poznamky:
'''
VDE
- balík vde2 (normálně ho mám)
- spuštění rozhraní: vde_switch -tap vr1 -daemon
- spuštění 2. rozhraní: vde_switch -s /var/run/vde.ctl/ctl2 -tap vr2 -daemon (musí tam bejt ta cesta, aby se to nekřížilo s tím prvním)
- propojení 2 rozhraní: dpipe vde_plug = vde_plug /var/run/vde.ctl/ctl2 & (dpipe je příkaz pro obousměrnou rouru, více v man vde_plug)
   - opravdu to funguje!
'''


==== 15.9.2011 ====
jpcap-zeleny pakety dekoduje, referencni projekty [[~/NetBeansProjects/jpcap-zeleny/tcpdump|tcpdump]] a [[~/NetBeansProjects/jpcap-zeleny/sendICMP|sendICMP]].
Uz umim poslouchat pakety na eth0 (pres tcpdump) a poslat korektni ICMP paket na libovolny PC s tim, ze dojde odpoved.

tap - virtualni rozhrani na linkove vrstve
tun - virtualni rozhrani na sitove vrstve
